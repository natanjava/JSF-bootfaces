<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">



<h:head>
	<title>User Registration</title>
</h:head>

<h:body>
	<div style="margin-left: 5%;">

		<ui:include src="/menu.xhtml" />

		<h:graphicImage height="100" width="200" library="img"
			name="launchsystem.jpg" />

		<h1>Welcome, User!  </h1>  

		<h:form id="formPessoa" enctype="multipart/form-data" style="">


			<h:messages
				style="color:white; background-color: black; max-width:400px;" />

			<h:panelGrid columns="2">

				<f:facet name="header">
					<h:outputText value="User Registration" />
				</f:facet>

				<h:outputLabel value="ID: " />
				<b:inputText value="#{pessoaBean.pessoa.id}" readonly="true" />

				<h:outputLabel value="Foto" />
				<h:inputFile id="Foto" value="#{pessoaBean.arquivoFoto}" />

				<h:outputLabel value="Nome: " />
				<b:inputText value="#{pessoaBean.pessoa.nome}" />

				<h:outputLabel value="Sobrenome: " />
				<b:inputText value="#{pessoaBean.pessoa.sobrenome}" id="sobrenome" />

				<h:outputLabel value="Idade: " />
				<b:inputText value="#{pessoaBean.pessoa.idade}" mask="numeric" />

				<h:outputLabel value="Sexo: " />
				<b:selectOneMenu id="campoSexo" value="#{pessoaBean.pessoa.sexo}"
					required="false">
					<f:selectItem itemValue="não informado" itemLabel="[Selecione]"
						noSelectionOption="true" />
					<f:selectItem itemValue="MASCULINO" itemLabel="Masculino" />
					<f:selectItem itemValue="FEMININO" itemLabel="Feminino" />
				</b:selectOneMenu>

				<h:outputLabel value="Nascimento: " />
				<b:datepicker locale="en"
					value="#{pessoaBean.pessoa.dataNascimento}" />

				<h:outputLabel value="Frameworks" />
				<h:selectManyMenu id="campoframeworks"
					value="#{pessoaBean.pessoa.frameworks}" style="height:100px;">
					<f:selectItem itemValue="Spring" />
					<f:selectItem itemValue="Hibernate" />
					<f:selectItem itemValue="Prime Faces" />
					<f:selectItem itemValue="JSF" />
				</h:selectManyMenu>

				<h:outputLabel value="CEP" />
				<b:inputText value="#{pessoaBean.pessoa.cep}">
					<f:ajax event="blur" execute="@form"
						listener="#{pessoaBean.pesquisaCep}" render="@form" />
				</b:inputText>

				<h:outputLabel value="Logradouro" />
				<b:inputText value="#{pessoaBean.pessoa.logradouro}" id="logradouro" />

				<h:outputLabel value="Complemento" />
				<b:inputText value="#{pessoaBean.pessoa.complemento}"
					id="complemento" />

				<h:outputLabel value="Bairo" />
				<b:inputText value="#{pessoaBean.pessoa.bairro}" id="bairro" />

				<h:outputLabel value="Localidade" />
				<b:inputText value="#{pessoaBean.pessoa.localidade}" id="localidade" />

				<h:outputLabel value="UF" />
				<b:inputText value="#{pessoaBean.pessoa.uf}" id="uf" />


				<h:outputLabel value="Ativo" />
				<h:selectBooleanCheckbox value="#{pessoaBean.pessoa.ativo}" />

				<h:outputLabel value="Login" />
				<b:inputText value="#{pessoaBean.pessoa.login}" />

				<h:outputLabel value="Senha " />
				<b:inputSecret value="#{pessoaBean.pessoa.senha}" redisplay="true" />

				<h:outputLabel value="Perfil: " />
				<b:selectOneMenu id="perfil" value="#{pessoaBean.pessoa.perfiUser}"
					required="false">
					<f:selectItem itemValue="não informado" itemLabel="[Selecione]"
						noSelectionOption="true" />
					<f:selectItem itemValue="ADMINISTRATOR" itemLabel="Administrator" />
					<f:selectItem itemValue="RECEPCIONIST" itemLabel="Recepcionist" />
					<f:selectItem itemValue="ASSISTENT" itemLabel="Assistent" />
				</b:selectOneMenu>

				<h:outputLabel value="Programador" />
				<h:selectOneRadio value="#{pessoaBean.pessoa.nivelProgramador}">
					<f:selectItem itemValue="J" itemLabel="Junior" />
					<f:selectItem itemValue="P" itemLabel="Pleno" />
					<f:selectItem itemValue="S" itemLabel="Senior" />
					<f:selectItem itemValue="E" itemLabel="Especialista" />
				</h:selectOneRadio>

				<h:outputLabel value="Linguagens" />
				<h:selectManyCheckbox value="#{pessoaBean.pessoa.linguagens}">
					<f:selectItem itemValue="1" itemLabel="Java" />
					<f:selectItem itemValue="2" itemLabel="PHP" />
					<f:selectItem itemValue="3" itemLabel="Phyton" />
					<f:selectItem itemValue="4" itemLabel="Cobol" />
				</h:selectManyCheckbox>

				<h:outputLabel />
				<!-- tag to make space -->

				<h:panelGroup>
					<h:commandButton value="Novo" action="#{pessoaBean.limpar}"
						image="/resources/img/novo.png" title="Novo" />
					<h:commandButton value="Salvar" action="#{pessoaBean.salvar}"
						image="/resources/img/salvar.png" title="Salvar" />
					<h:commandButton value="Deletar" action="#{pessoaBean.remove}"
						image="/resources/img/excluir.png" title="Deletar"
						rendered="#{pessoaBean.permiteAcesso('ADMINISTRATOR')}" />
					<!-- 
						<h:commandButton value="Limpar" type="reset" image="/resources/img/limpar.png" title="Limpar"/>  
						 -->
					<h:commandButton value="Limpar 2" id="botaoLimpar2"
						action="#{pessoaBean.limpar}" image="/resources/img/limpar.png"
						title="Limpar">
						<f:ajax execute="botaoLimpar2" render="@form" />
					</h:commandButton>
				</h:panelGroup>

			</h:panelGrid>

		</h:form>
		<br />


		<h:form>
			<b:dataTable 
				value="#{pessoaBean.pessoas}" 
				var="pessoa" 
				columnVisibility="true"
				>

				<b:dataTableColumn value="#{pessoa.id}" />

				<b:dataTableColumn value="#{pessoa.nome}" />

				<b:dataTableColumn value="#{pessoa.sobrenome}" />

				<b:dataTableColumn label="Foto">
					<h:panelGroup rendered="#{not empty pessoa.fotoIconBase64}">
						<h:commandLink actionListener="#{pessoaBean.download}">
							<h:graphicImage width="75" height="60"
								value="#{pessoa.fotoIconBase64}" />
							<f:param name="fileDownloadId" value="#{pessoa.id}" />
						</h:commandLink>
					</h:panelGroup>
					<h:panelGroup rendered="#{empty pessoa.fotoIconBase64}">
						<h:outputText value="No Photo"
							style="font-family: verdana; font-size: 12px;" />
					</h:panelGroup>
				</b:dataTableColumn>

				<b:dataTableColumn label="Editar">
					<h:commandLink>
						<f:setPropertyActionListener value="#{pessoa}"
							target="#{pessoaBean.pessoa}" />
						<h:graphicImage value="/resources/img/editar.png" />
					</h:commandLink>
				</b:dataTableColumn>

				<b:dataTableColumn label="Excluir" rendered="#{pessoaBean.permiteAcesso('ADMINISTRATOR')}">
					<h:commandLink title="Excluir" action="#{pessoaBean.remove}">
						<f:setPropertyActionListener value="#{pessoa}"
							target="#{pessoaBean.pessoa}" />
						<h:graphicImage value="/resources/img/excluir.png" />
					</h:commandLink>
				</b:dataTableColumn>

			</b:dataTable>

		</h:form>


		

	</div>

</h:body>

</html>